<body>

    <!-- <header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
        <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="#">Admin Panel</a>
        <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <input class="form-control form-control-dark w-100" type="text" placeholder="Search" aria-label="Search">
        <div class="navbar-nav">
            <div class="nav-item text-nowrap">
                <a class="nav-link px-3" href="#">Sign out</a>
            </div>
        </div>
    </header> -->

    <div class="container-fluid">
        <div class="row">
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">

                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-file" aria-hidden="true">
                                    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
                                    <polyline points="13 2 13 9 20 9"></polyline>
                                </svg>
                                Home
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" (click)="createModeToggle()" style="cursor:pointer;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-shopping-cart" aria-hidden="true">
                                    <circle cx="9" cy="21" r="1"></circle>
                                    <circle cx="20" cy="21" r="1"></circle>
                                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                                </svg>
                                New Album
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-users" aria-hidden="true">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="9" cy="7" r="4"></circle>
                                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                </svg>
                                Edit Album
                            </a>
                            <hr>

                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-bar-chart-2" aria-hidden="true">
                                    <line x1="18" y1="20" x2="18" y2="10"></line>
                                    <line x1="12" y1="20" x2="12" y2="4"></line>
                                    <line x1="6" y1="20" x2="6" y2="14"></line>
                                </svg>
                                Reports
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-layers" aria-hidden="true">
                                    <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                                    <polyline points="2 17 12 22 22 17"></polyline>
                                    <polyline points="2 12 12 17 22 12"></polyline>
                                </svg>
                                Integrations
                            </a>
                        </li>
                    </ul>

                    <h6
                        class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>Saved reports</span>
                        <a class="link-secondary" href="#" aria-label="Add a new report">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="feather feather-plus-circle" aria-hidden="true">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="8" x2="12" y2="16"></line>
                                <line x1="8" y1="12" x2="16" y2="12"></line>
                            </svg>
                        </a>
                    </h6>

                </div>
            </nav>

            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="chartjs-size-monitor">
                    <div class="chartjs-size-monitor-expand">
                        <div class=""></div>
                    </div>
                    <div class="chartjs-size-monitor-shrink">
                        <div class=""></div>
                    </div>
                </div>
                <div
                    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">Dashboard</h1>
                    <div class="btn-toolbar mb-2 mb-md-0">
                        <div class="btn-group me-2">
                            <button (click)="createAuthorToggle()" type="button" class="btn btn-sm btn-warning">Add
                                Author</button>
                            <button (click)="createSongToggle()" type="button" class="btn btn-sm btn-info">Add
                                Song</button>
                            <button (click)="createModeToggle()" type="button" class="btn btn-sm btn-success">Add Album
                            </button>
                            <button (click)="refresh()" type="button"
                                class="btn btn-sm btn-outline-info">Refresh</button>
                        </div>

                    </div>
                </div>

                <!-- search field
                            <div class="form-group  col-6 m-2 p-2">
                    
                                <ul>
                                    <li *ngFor="let item of secrches">
                                        {{item}}
                                    </li>
                                </ul>
                                       <input type="search" class="form-control mt-2" placeholder="Enter Serch term"
                                [formControl]="secrField">
                            </div> -->




                <ng-container *ngIf="createMode">
                    <app-AddEditForm></app-AddEditForm>
                </ng-container>

                <ng-container *ngIf="createSong">
                    <app-SongForm></app-SongForm>
                </ng-container>

                <ng-container *ngIf="createAuthor">
                    <app-authorForm></app-authorForm>
                </ng-container>



                <div class="table-responsive">
                    <table class="table table-striped table-sm">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Author</th>
                                <th scope="col">Album</th>
                                <th scope="col">Year</th>
                                <th scope="col">Songs</th>
                                <th scope="col">Img</th>
                                <th scope="col">.</th>
                                <th scope="col">.</th>
                                <th scope="col">.</th>



                            </tr>
                        </thead>

                        <tbody>
                            <tr *ngFor=" let album of albums ; index as  i  ">
                                <td>{{i+1}}</td>
                                <td> <span> <a [routerLink]="['../author/' ,album.authorID]"
                                            style="text-decoration: none;">{{getAuthorName(album.authorID)}}</a></span>
                                </td>
                                <td><span> <a [routerLink]="['../album/' ,album.id]"
                                            style="text-decoration: none;">{{album.name}}</a></span></td>
                                <td>{{album.year }}</td>
                                <td>
                                    <a [routerLink]="['../album/' ,album.id]"><img src="{{album.albumPicture}}"
                                            alt="{{album.name}}" style="height: 100px;"></a>
                                </td>
                                <td (click)="showSongsToggle(album.id)"
                                    style="cursor: pointer; color: rgb(153, 0, 255);">
                                    <a>Songs</a>
                                </td>

                                <td>
                                    <a [routerLink]="['../album/' ,album.id]"><i class="bi bi-text-center"></i></a>

                                </td>
                                <td (click)="editModeToggle(album.id)"
                                    style="cursor: pointer; color: rgb(6, 180, 122);"><i class="bi bi-wrench"></i>
                                </td>
                                <td (click)="deleteAlbum(album.id)" style="cursor: pointer; color: red;"><i
                                        class="bi bi-x-circle"></i>
                                </td>
                            </tr>
                            <ng-container *ngIf="showSongs">
                                <tr>
                                    <th>#</th>
                                    <th>Song</th>
                                </tr>
                                <tr *ngFor="let item of curr_songs">
                                    <td>{{item.trackNumber}}</td>
                                    <td>{{item.name}}</td>
                                    <td>{{item.year}}</td>


                                </tr>
                            </ng-container>
                        </tbody>
                    </table>
                </div>
            </main>
        </div>
    </div>




</body>